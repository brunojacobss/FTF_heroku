(this["webpackJsonptake-home-test"]=this["webpackJsonptake-home-test"]||[]).push([[0],{52:function(t,e,r){"use strict";r.r(e);var c=r(3),a=r(0),n=r.n(a),s=r(11),o=r.n(s),i=r(55),u=r(37),l=r(39),m=r(15),j=r(35),h=r(36),d=r.n(h),b="/repos/".concat("brunojacobss","/").concat("FTF-CommitHistory","/commits"),O=r(12),p=r.n(O),x=r(17),f=r(13),g=r(18),v=r(38),y={getCommits:function(){var t=Object(x.a)(p.a.mark((function t(e){var r,c,a,n,s,o,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=4,Object(v.a)("GET ".concat(e));case 4:c=t.sent,a=Object(g.a)(c.data);try{for(a.s();!(n=a.n()).done;)s=n.value,o=s.author,i=s.commit,u=s.html_url,r.push({author:o,commit:i,html_url:u})}catch(l){a.e(l)}finally{a.f()}return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=r(25),w=r(34),C={white_check_mark:"\u2705",tada:"\ud83c\udf89",lipstick:"\ud83d\udc84",package:"\ud83d\udce6",page_facing_up:"\ud83d\udcc4",sparkles:"\u2728"},_=/:([^:]*):/g,S=function(t){try{for(var e;e=_.exec(t);)t=t.replace(e[0],C[e[1]])}catch(r){console.error(r)}return t},B=function(t){var e=t.commitData,r=t.index,a=e.commit,n=e.author,s=e.html_url;return Object(c.jsxs)(k.a,{"data-testid":"commitDiv",style:{cursor:"pointer"},children:[Object(c.jsxs)(m.a.Toggle,{as:k.a.Header,eventKey:r.toString(),children:[Object(c.jsx)(w.a,{src:n.avatar_url,alt:"avatar of the author",roundedCircle:!0,style:{height:50,width:50,marginRight:24}}),S(a.message)]}),Object(c.jsx)(m.a.Collapse,{eventKey:r.toString(),children:Object(c.jsxs)(k.a.Body,{children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["Date: ",a.committer.date]}),Object(c.jsxs)("p",{children:["Author: ",Object(c.jsx)("a",{href:n.html_url,children:n.login})," "]})]}),Object(c.jsxs)("p",{children:["Email: ",a.committer.email]}),Object(c.jsx)("p",{children:Object(c.jsx)("a",{href:s,children:"I want to see the changes!"})})]})})]})},E=function(){var t=function(t){t.method;var e=t.url,r=(t.body,t.onSuccess),c=Object(a.useState)(null),n=Object(f.a)(c,2),s=n[0],o=n[1],i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],m=u[1],j=Object(a.useState)([]),h=Object(f.a)(j,2),d=h[0],b=h[1];return{doRequest:function(){var t=Object(x.a)(p.a.mark((function t(){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(null),b([]),m(!0),t.next=6,y.getCommits(e);case 6:c=t.sent,b(d.concat(c)),m(!1),r&&r(d),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),o(t.t0.message),console.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),error:s,commits:d,loading:l}}({url:b,method:"GET"}),e=t.doRequest,r=t.commits,n=t.error,s=t.loading;console.log(r);var o=Object(a.useCallback)((function(){e()}),[]);Object(a.useEffect)((function(){o()}),[]);var i=r.map((function(t,e){return Object(c.jsx)(B,{commitData:t,index:e},t.commit.message)}));return Object(c.jsxs)("div",{children:[n&&Object(c.jsx)(l.a,{variant:"danger",children:n}),Object(c.jsx)(j.a,{variant:"dark",onClick:function(){o()},disabled:s,"data-testid":"getCommitsButton",style:{marginBottom:24},children:s?"Loading...":"Get commits"}),Object(c.jsx)(m.a,{style:{marginBottom:24},children:s?Object(c.jsx)(d.a,{count:20}):i})]})},D=function(){return Object(c.jsxs)(u.a,{children:[Object(c.jsx)(i.a,{children:Object(c.jsx)("h1",{className:"header",children:"Github Commit History"})}),Object(c.jsx)(E,{})]})};o.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.6eb785eb.chunk.js.map